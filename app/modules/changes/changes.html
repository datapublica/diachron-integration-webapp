<div class="changes">
    <div class="changes-container">
        <div layout="row">

            <div class="filter-column">
                <div ng-if="Changes.changes.facets.types" class="filter-chart">
                    <h4>Change Types</h4>
                    <p class="subtitle" ng-if="!Changes.selections.types">Click on a bar to explore a change type</p>
                    <div checkbox-chart
                         config="Changes.checkboxChart.types"
                         id="checkbox-chart-types"
                         on-check="Changes.filter(data)"></div>

                    <div class="btn-reset">
                        <md-button class="md-raised" ng-click="Changes.reset()">Réinitialiser</md-button>
                    </div>
                </div>

                <div ng-if="Changes.changes.facets.joinTypes" class="filter-chart">
                    <h4>Related changes, by type</h4>
                    <p class="subtitle" ng-if="!Changes.selections.joinTypes">Click on a bar to reduce result set to subjects of 2 change types</p>

                    <div checkbox-chart
                         config="Changes.checkboxChart.joinTypes"
                         id="checkbox-chart-joinTypes"
                         on-check="Changes.filter(data)"></div>

                    <div>
                        <md-button class="md-raised" ng-click="Changes.reset('joinTypes')">Réinitialiser</md-button>
                    </div>
                </div>

                <div ng-if="Changes.changes.facets.measure" class="filter-chart">
                    <h4>Measures</h4>
                    <p class="subtitle" ng-if="!Changes.selections.measure">Click on a bar to reduce result set to changes affecting a particular measure</p>

                    <div checkbox-chart
                         config="Changes.checkboxChart.measure"
                         id="checkbox-chart-measure"
                         on-check="Changes.filter(data)"></div>

                    <div class="btn-reset">
                        <md-button class="md-raised" ng-click="Changes.reset(['measure', 'measure-val'])">Réinitialiser</md-button>
                    </div>
                </div>

                <div ng-if="Changes.changes.facets.dimension" class="filter-chart">
                    <h4>Dimensions</h4>
                    <p class="subtitle" ng-if="!Changes.selections.dimension">Click on a bar to reduce result set to changes affecting a particular dimension</p>

                    <div checkbox-chart
                         config="Changes.checkboxChart.dimension"
                         id="checkbox-chart-dimension"
                         on-check="Changes.filter(data)"></div>

                    <div class="btn-reset">
                        <md-button class="md-raised" ng-click="Changes.reset('dimension')">Réinitialiser</md-button>
                    </div>
                </div>

                <div ng-if="Changes.changes.facets.measure_val && Changes.selections.measure" class="filter-chart">
                    <h4>Measures values</h4>
                    <p class="subtitle" ng-if="!Changes.selections.measure_val">Click on a bar to reduce result set to changes affecting a particular measure value</p>

                    <div checkbox-chart
                         config="Changes.checkboxChart.measure_val"
                         id="checkbox-chart-measure_val"
                         on-check="Changes.filter(data)"></div>

                    <div class="btn-reset">
                        <md-button class="md-raised" ng-click="Changes.reset('measure_val')">Réinitialiser</md-button>
                    </div>
                </div>

                <div ng-if="Changes.changes.facets.property" class="filter-chart">
                    <h4>Properties</h4>
                    <p class="subtitle" ng-if="!Changes.selections.property">Click on a bar to reduce result set to changes affecting a particular property</p>

                    <div checkbox-chart
                         config="Changes.checkboxChart.property"
                         id="checkbox-chart-property"
                         on-check="Changes.filter(data)"></div>
                    <div class="btn-reset">
                        <md-button class="md-raised" ng-click="Changes.reset(['property', 'value'])">Réinitialiser</md-button>
                    </div>
                </div>

                <div ng-if="Changes.changes.facets.value && Changes.selections.property" class="filter-chart">
                    <h4>Values</h4>
                    <p class="subtitle" ng-if="!Changes.selections.value">Click on a bar to reduce result set to changes affecting a particular property value</p>

                    <div checkbox-chart
                         config="Changes.checkboxChart.value"
                         id="checkbox-chart-value"
                         on-check="Changes.filter(data)"></div>

                    <div class="btn-reset" ng-if="Changes.selections.value">
                        <md-button class="md-raised" ng-click="Changes.reset('value')">Réinitialiser</md-button>
                    </div>
                </div>


            </div>

            <div class="content-column" flex>
                <div class="content-container">
                    <h3></h3>

                    <div class="header" layout="row">
                        <div ng-repeat="item in Changes.changes.headers" flex>{{item}}</div>
                    </div>
                    <!--
                    <div dir-paginate="item in Changes.changes.data | itemsPerPage: 20"
                         total-items="Changes.changes.total" pagination-id="changelist"
                         current-page="Changes.changes.currentPage" layout="row">
                         -->
                    <div ng-repeat="item in Changes.changes.data" layout="row" class="change-item">
                        <div flex ng-repeat="v in item">{{v}}</div>
                    </div>

                    <!--
                    <md-table headers="Changes.changes.headers" content="Changes.changes.data"></md-table>
                         -->

                   <dir-pagination-controls  pagination-id="changelist"
                        on-page-change="Changes.paginate({pageNumber: Changes.changes.currentPage})"></dir-pagination-controls>


                </div>
            </div>
        </div>
    </div>
</div>

</div>